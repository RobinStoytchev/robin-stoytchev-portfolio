/* styles.css */

/*
  Vibrant Overlapping Cards - Stylesheet

  Table of Contents:
  1. :root Variables (Colors, Fonts, Sizes)
  2. Base & Typography Styles
  3. Header & Footer Styles
  4. Card Container Styles
  5. Individual Card Styles
     - Base Card Appearance
     - Card Content & Typography
     - Specific Card Color Themes & Gradients
  6. Card Hover & Focus Effects
  7. Responsive Design (Media Queries)
*/

/* 1. :root Variables
   -------------------------------------------------------------------------- */
:root {
    /* Core Colors - RGB values provided in prompt */
    --deep-red-brown: oklch(0.16 0.0671 29.23);
    --white: oklch(0.97 0 0);
    --core-red: oklch(0.61 0.248872 28.6863);
    --light-red: oklch(0.74 0.155 21.5);
    --cyan: oklch(0.96 0.06 196.2);

    /* Data Colors */
    --teal: oklch(0.82 0.178394 162.3557);
    --gold: oklch(0.89 0.182186 95.3305);
    --purple: oklch(0.46 0.2073 277.72);
    --pink: oklch(0.82 0.1667 328.75);

    /* Neutral Colors */
    --light-gray: oklch(0.89 0 0);
    --medium-gray: oklch(0.62 0 0);
    --dark-gray: oklch(0.32 0 0); /* For general dark text if needed */

    /* Text Colors based on background for WCAG AA */
    --text-on-dark-bg: var(--white); /* e.g., on Deep Red/Brown, Core Red, Purple */
    --text-on-light-bg: var(--deep-red-brown); /* e.g., on White, Light Red, Cyan, Teal, Gold, Pink, Light Gray */
                                            /* For Teal & Gold, var(--deep-red-brown) ensures good contrast */

    /* Fonts */
    --font-primary: 'Roboto', 'Helvetica Neue', Helvetica, Arial, sans-serif; /* Modern, clean sans-serif */
    --font-secondary: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif; /* Approachable, readable */

    /* Card Dimensions & Layout */
    --card-width-desktop: 300px;
    --card-height-desktop: 420px;
    --card-overlap-desktop: -120px; /* How much cards overlap */
    --card-border-radius: 12px; /* Creative edge treatment */
    --card-padding: 20px;

    /* Transitions & Animations */
    --transition-speed-fast: 0.2s;
    --transition-speed-medium: 0.3s;
    --transition-easing: ease-in-out;

    /* Shadows for depth */
    --shadow-color: rgba(0, 0, 0, 0.1);
    --card-shadow-default: 0 4px 15px var(--shadow-color);
    --card-shadow-hover: 0 10px 30px rgba(0, 0, 0, 0.2);

    --card-hover-lift-y: -45px; /* The actual transform value */
    --card-hover-lift-abs: 45px; /* Absolute value for height calculations */

}

/* 2. Base & Typography Styles
   -------------------------------------------------------------------------- */
*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: var(--font-secondary);
    line-height: 1.6;
    background-color: var(--light-gray); /* Neutral page background */
    color: var(--dark-gray);
    padding: 20px 0;
    overflow-x: hidden; /* Prevent horizontal scroll on body due to container padding */
}

h1, h2, h3 {
    font-family: var(--font-primary);
    font-weight: 700;
    line-height: 1.2;
}

h1 {
    font-size: clamp(2rem, 5vw, 3rem); /* Responsive font size */
    margin-bottom: 0.5em;
    color: var(--deep-red-brown);
}

h2.card-title {
    font-size: 1.75rem;
    margin-bottom: 0.25em;
}

h3.card-subtitle {
    font-size: 1rem;
    font-weight: 400;
    margin-bottom: 0.75em;
    opacity: 0.9;
}

p {
    font-size: 0.95rem;
    margin-bottom: 1em;
}

p.card-rgb {
    font-family: var(--font-primary);
    font-weight: 300;
    font-size: 0.85rem;
    opacity: 0.8;
    margin-bottom: 1em;
    /* Subtle typographic flourish: slight letter spacing */
    letter-spacing: 0.5px;
}

a {
    color: var(--core-red);
    text-decoration: none;
}

a:hover, a:focus {
    text-decoration: underline;
}

/* 3. Header & Footer Styles
   -------------------------------------------------------------------------- */
header, footer {
    text-align: center;
    padding: 20px;
    width: 90%;
    max-width: 1200px;
    margin: 0 auto 30px auto;
}

.palette-info {
    font-size: 0.85rem;
    color: var(--medium-gray);
    line-height: 1.5;
    background-color: var(--white);
    padding: 10px 15px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    display: inline-block; /* Allow centering if parent is text-align: center */
}

footer p {
    font-size: 0.9rem;
    color: var(--medium-gray);
}

/* 4. Card Container Styles
   -------------------------------------------------------------------------- */
.card-container {
    display: flex; /* Arrange cards horizontally */
    align-items: center;
    overflow-x: auto; /* Allow horizontal scrolling */
    overflow-y: hidden; /* Prevent vertical scroll unless card content overflows */
    padding: 40px 50px; /* Space around the card group, allows shadows to be visible */
    gap: 0; /* No gap, overlap handled by negative margins */
    min-height: calc(var(--card-height-desktop) + 80px + var(--card-hover-lift-abs) + 100px);
    /* For smoother scrolling on touch devices */
    -webkit-overflow-scrolling: touch;
    /* Hides scrollbar on some browsers, consider custom scrollbar for aesthetics if needed */
    scrollbar-width: thin; /* Firefox */
    scrollbar-color: var(--medium-gray) var(--light-gray); /* Firefox */
}
/* Webkit scrollbar styling */
.card-container::-webkit-scrollbar {
    height: 8px;
}
.card-container::-webkit-scrollbar-track {
    background: var(--light-gray);
    border-radius: 4px;
}
.card-container::-webkit-scrollbar-thumb {
    background: var(--medium-gray);
    border-radius: 4px;
}
.card-container::-webkit-scrollbar-thumb:hover {
    background: var(--dark-gray);
}

/* Styles for when the container has a hovered card */
.card-container:hover .card {
    opacity: 1; /* De-emphasize cards: adjust value as needed (e.g., 0.3 to 0.6) */
    z-index: 0;
}


/* 5. Individual Card Styles
   -------------------------------------------------------------------------- */

/* Base Card Appearance */
.card {
    width: var(--card-width-desktop);
    height: var(--card-height-desktop);
    flex-shrink: 0; /* Prevent cards from shrinking */
    position: relative; /* For z-index on hover and absolute positioning inside */
    border-radius: var(--card-border-radius);
    box-shadow: var(--card-shadow-default);
    z-index: 1;
    
    /* --- ADJUSTED TRANSITIONS --- */
    /* Remove z-index from explicit transition properties here, it will change instantly based on state */
    transition-property: transform, box-shadow, margin-right, opacity;
    transition-duration: var(--transition-speed-medium); /* Applies to all properties listed above */
    transition-timing-function: var(--transition-easing); /* Applies to all properties listed above */
    transition-delay: 0s; /* No default delay for these main visual properties */

    overflow: hidden; /* Ensure content respects border-radius */
    cursor: pointer; /* Indicate interactivity */
    margin-right: var(--card-overlap-desktop); /* Creates the overlap effect */
    /* transform: rotate(1deg); */ /* Example of slight default tilt */
    /* The initial opacity is 1 by default, no need to explicitly set it here unless you want something else initially */
}

/* ADD THIS NEW RULE for the highlight pseudo-element */
.card::after {
    content: ""; /* Necessary for pseudo-elements to show */
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 0; /* Start with no height (hidden) */
    background: linear-gradient(270deg, var(--core-red) 20%, var(--gold) 40%, var(--teal) 60%, var(--medium-gray) 80%, var(--purple) 100%); /* Or var(--cyan) or another highlight color you prefer */
    /* Ensure the highlight respects the card's bottom border radius */
    border-bottom-left-radius: var(--card-border-radius);
    border-bottom-right-radius: var(--card-border-radius);
    transition: height var(--transition-speed-medium) var(--transition-easing);
    z-index: 0; /* Places it above the card's main background but below text content by default */
}

/* Remove negative margin from the last card to prevent cutting off content if container isn't wide enough */
.card:last-child {
    margin-right: 0;
}

/* Card Content & Typography */
.card-content {
    padding: var(--card-padding);
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* Pushes some content to bottom if desired, or center */
}

/* Specific Card Color Themes & Gradients */
/* Each card has a base color and a subtle gradient applied.
   Gradients go from the base color to a slightly darker or modified shade.
   Text color is determined by --text-on-dark-bg or --text-on-light-bg for accessibility.
*/

.card-deep-red-brown {
    background: linear-gradient(135deg, var(--deep-red-brown), color-mix(in oklch, var(--deep-red-brown) 70%, black 30%));
    color: var(--text-on-dark-bg);
}

.card-white {
    background: linear-gradient(135deg, var(--white), color-mix(in oklch, var(--white) 90%, var(--light-gray) 10%));
    color: var(--text-on-light-bg);
    border: 1px solid var(--light-gray); /* Add a subtle border for white cards */
}
/* For white card, ensure titles are dark enough if using default text-on-light-bg */
.card-white .card-title,
.card-white .card-subtitle,
.card-white .card-rgb {
    color: var(--deep-red-brown);
}

.card-core-red {
    background: linear-gradient(135deg, var(--core-red), color-mix(in oklch, var(--core-red) 75%, black 25%));
    color: var(--text-on-dark-bg);
}

.card-light-red {
    background: linear-gradient(135deg, var(--light-red), color-mix(in oklch, var(--light-red) 80%, var(--white) 20%));
    color: var(--text-on-light-bg);
}
.card-light-red .card-title,
.card-light-red .card-subtitle,
.card-light-red .card-rgb {
    color: var(--deep-red-brown); /* Ensure contrast */
}


.card-cyan {
    background: linear-gradient(135deg, var(--cyan), color-mix(in oklch, var(--cyan) 80%, var(--purple) 10%)); /* Mix with purple for depth */
    color: var(--text-on-light-bg);
}
.card-cyan .card-title,
.card-cyan .card-subtitle,
.card-cyan .card-rgb {
    color: var(--deep-red-brown); /* Ensure contrast */
}

.card-teal {
    background: linear-gradient(135deg, var(--teal), color-mix(in oklch, var(--teal) 70%, var(--deep-red-brown) 20%));
    color: var(--text-on-light-bg); /* Dark text on Teal is required for AA */
}
.card-teal .card-title,
.card-teal .card-subtitle,
.card-teal .card-rgb {
    color: var(--deep-red-brown); /* Enforce dark text for Teal */
}


.card-gold {
    background: linear-gradient(135deg, var(--gold), color-mix(in oklch, var(--gold) 75%, var(--deep-red-brown) 15%));
    color: var(--text-on-light-bg); /* Dark text on Gold is required for AA */
}
.card-gold .card-title,
.card-gold .card-subtitle,
.card-gold .card-rgb {
    color: var(--deep-red-brown); /* Enforce dark text for Gold */
}


.card-purple {
    background: linear-gradient(135deg, var(--purple), color-mix(in oklch, var(--purple) 70%, black 30%));
    color: var(--text-on-dark-bg);
}

.card-pink {
    background: linear-gradient(135deg, var(--pink), color-mix(in oklch, var(--pink) 80%, var(--purple) 15%));
    color: var(--text-on-light-bg);
}
.card-pink .card-title,
.card-pink .card-subtitle,
.card-pink .card-rgb {
    color: var(--deep-red-brown); /* Ensure contrast */
}


.card-light-gray {
    background: linear-gradient(135deg, var(--light-gray), color-mix(in oklch, var(--light-gray) 85%, var(--medium-gray) 15%));
    color: var(--text-on-light-bg);
}
.card-light-gray .card-title,
.card-light-gray .card-subtitle,
.card-light-gray .card-rgb {
    color: var(--deep-red-brown);
}

.card-medium-gray {
    background: linear-gradient(135deg, var(--medium-gray), color-mix(in oklch, var(--medium-gray) 70%, black 30%));
    color: var(--text-on-dark-bg); /* White text on medium gray should be fine */
}


/* 6. Card Hover & Focus Effects
   -------------------------------------------------------------------------- */
.card:hover,
.card:focus-visible {
    transform: translateY(var(--card-hover-lift-y)) scale(1.04) rotate(-1deg);
    box-shadow: var(--card-shadow-hover);
    z-index: 10 !important; /* Ensure this is a high value and overrides other rules */
    margin-right: calc(var(--card-overlap-desktop) + 20px);
    transition-delay: 0s; 
    opacity: 1 !important; 
    /* filter: none !important; */ 
}


.card:focus-visible {
    outline: 3px solid var(--gold); /* Clear focus indicator, using a vibrant color */
    outline-offset: 3px;
}

/* ADD THIS NEW RULE to show the highlight on hover/focus */
.card:hover::after,
.card:focus-visible::after {
    height: 10px; /* Or your desired highlight thickness, e.g., 5px, 10px */
    z-index: -1;
}

/* Ensure following cards don't jump too much when one is hovered by adjusting its margin */
.card:hover + .card,
.card:focus-visible + .card {
     transform: translateX(10px);  /* Example: slightly push next card */
}


/* 7. Responsive Design (Media Queries)
   -------------------------------------------------------------------------- */

/* Tablet Devices */
@media (max-width: 1024px) {
    :root {
        --card-width-tablet: 260px;
        --card-height-tablet: 380px;
        --card-overlap-tablet: -100px;
    }

    .card {
        width: var(--card-width-tablet);
        height: var(--card-height-tablet);
        margin-right: var(--card-overlap-tablet);
    }

    .card:hover,
    .card:focus-visible {
        margin-right: calc(var(--card-overlap-tablet) + 15px);
    }

    .card-container {
        padding: 30px 30px;
        min-height: calc(var(--card-height-tablet) + 60px);
    }

    h2.card-title {
        font-size: 1.5rem;
    }
    p {
        font-size: 0.9rem;
    }
}

/* Mobile Devices */
@media (max-width: 767px) {
    :root {
        --card-width-mobile: 240px; /* Slightly wider for mobile for better tap targets */
        --card-height-mobile: 360px;
        --card-overlap-mobile: -90px; /* Less aggressive overlap on mobile */
    }

    body {
        padding: 10px 0;
    }

    header, footer {
        padding: 15px;
        margin-bottom: 20px;
    }
    .palette-info {
        font-size: 0.75rem;
        padding: 8px 10px;
    }


    .card-container {
        padding: 20px 15px; /* Less padding on mobile */
        min-height: calc(var(--card-height-mobile) + 40px);
    }

    .card {
        width: var(--card-width-mobile);
        height: var(--card-height-mobile);
        margin-right: var(--card-overlap-mobile);
        border-radius: 10px; /* Slightly smaller radius */
    }

    .card:hover,
    .card:focus-visible {
        transform: translateY(-10px) scale(1.02); /* Less dramatic hover effect */
        margin-right: calc(var(--card-overlap-mobile) + 10px);
    }

    .card:focus-visible {
        outline-offset: 2px;
    }

    .card-content {
        padding: 15px;
    }

    h1 {
        font-size: 1.8rem;
    }

    h2.card-title {
        font-size: 1.3rem;
    }

    h3.card-subtitle {
        font-size: 0.9rem;
    }

    p {
        font-size: 0.85rem;
    }
    p.card-rgb {
        font-size: 0.75rem;
    }
}

/* Further refinement for very small screens if needed */
@media (max-width: 480px) {
    :root {
        --card-width-mobile: 200px;
        --card-height-mobile: 320px;
        --card-overlap-mobile: -70px;
    }
    .card-container {
        padding: 20px 10px; /* Minimal padding */
    }
}

/* End of styles.css */